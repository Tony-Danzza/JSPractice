<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New, This, Prototypes and Classes</title>
    <script defer src="./main.js"></script>
    <link rel="stylesheet" href="../base.css">
</head>
<body>
    <blockquote>"Everything in JS is an object"</blockquote>
    
    <ul>
        <h3>'new' keyword notes</h3>
        <li>Use of 'new' keyword in front of certain built in functions (Array, Object, Date, Number...)</li>
        <li>Will return an object that inherits built in JS prototype methods </li>
        <li>called an <strong>instance object</strong></li>
    </ul>

    <ul>
        <h3>this keyword notes</h3>
        <li>use of this keyword will always be scoped to function it is called in</li>
        <li>'this' is good for storing unique instance data</li>
    </ul>

    <button class="button1">Button1</button>
    <button class="button2">Button2</button>
    <script>
        const today = new Date()
        console.log(today)
        console.log(today.getFullYear())
        console.log(today.getTimezoneOffset())
        

        // use of [] or {} is referred to as LITERAL SYNTAX
    
        // vs


        const names = new Array('adam', 'finn')

        const names2 = ['adam', 'finn']


        const span = document.createElement('span')

        console.log(span)

        console.log(span.constructor)

        // function Pizza(toppings = [], customer) {
        //     console.log("I am a PIZZA")
        //     this.toppings = toppings

        // }

        const topping = ['pepperoni', 'cheese', 'sausage']

        // pepperoniPizza is now a instance object of Pizza
        const pepperoniPizza = new Pizza(topping, "Adam")


        const canadianPizza = new Pizza(['pineapple', 'Canadian Bacon', 'cheese'], 'wes bos')
        console.log("This is my 1st pizza",pepperoniPizza)
        console.log("This is my Canadian pizza", canadianPizza)

        console.log(pepperoniPizza.constructor)
        console.log(pepperoniPizza instanceof Pizza)


        
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\
        // this.

        const button1 = document.querySelector('.button1')
        const button2 = document.querySelector('.button2')

        // function tellMeAboutButton() {
        //     console.log(this)
                // NOTE:                    using this keyword in a function inside an function will change scope of this.
                // NOTE:                    previously used 'const that = this' now use and arrow function inside to maintain scope.
        //     setTimeout(function(){

        //         this.textContent = "You clicked Me"
                
        //         // setTimeout(100)
        //     },100)
        // }

        // const tellMeAboutButton = () => {
        //     console.log(this)
        // }

        function tellMeAboutButton() {
            console.log(this)

            setTimeout(()=>{
                console.log(this)
                this.textContent = 'You Clicked ME'
            }, 1000)
        }

        function Pizza(toppings = [], customer) {
            console.log("I am a PIZZA")
            this.toppings = toppings
            this.customer = customer
            this.id = Math.floor(Math.random()*16777215).toString(16);


        }

        button1.addEventListener('click', tellMeAboutButton)
        button2.addEventListener('click', tellMeAboutButton)
    </script>
</body>
</html>