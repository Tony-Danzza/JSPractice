<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
    const text = `
    Working with reduce Method

        [🐮,🥔, 🐔, 🌽].map(cook) => [🍔, 🍟, 🍗, 🍿]
    
        [🐮,🍔, 🍟, 🌽].filter(isVegetarian) => [🍟, 🌽]
    
        [🍟, 🌽, 🍔, 🍗].reduce(eat) => 💩
    
    .reduce() is a compiler that will typically leave you with a smaller outcome

    How to filter letters in array JavaScript?
    To filter the elements from an array we call array. filter() and pass the callback function that is invoked for every element in the array.
    `
    
    // Can chain this on to validChar var
    // let myArray = text.split('')
    // console.log(myArray)

    function isValidChar(char) {
        
        return char.match(/[a-z0-9]/i) // NOTE: the 'i' at the end is to indicate both upper and lowercase
    }

    // const netArray = myArray.filter(isValidChar)
    // console.log(netArray)

    function lowercase(char) {
        return char.toLowerCase()
    }
    // const lowercase = char => char.toLowerCase()


    function instanceCounter(count, char) {
        count[char] //if count of char exists 
        ? count[char] += 1 // add one to the count
        : count[char] = 1 // otherwise count = 1
        
        return count
    }


    const validChar = text
        .split('')  //split each char into an item of an array
        .filter(isValidChar) // run each char through isValidChar func, using regex match to see if it is a letter or number. return only valid chars
        .map(lowercase)
        .reduce(instanceCounter, {})


    // const totalChars = validChar.reduce((acc, item) => acc + item.count, 0)
    // console.log(totalChars)

    function sortedByValue(a, b) {
        return b[1] - a[1]
    }
    const sortedChar = Object
        .entries(validChar)
        .sort(sortedByValue)
    console.log(sortedChar)

    console.log(validChar)







    // const result = myArray.filter(char =>{
    //     if(char.match(/[a-z]/i)){

    //         // console.log(char)
    //         return char
    //     }
    // })
    // console.log(result)
    // console.log(myArray)

    

    </script>
</body>
</html>